<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>유튜브 채널 통합 도우미</title>
    <link rel="stylesheet" href="styles.css">
    <!-- moment.js & locale -->
    <script src="https://cdn.jsdelivr.net/npm/moment@2.29.4/min/moment.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/moment@2.29.4/locale/ko.js"></script>
</head>
<body>
    <div class="container">
        <!-- API키 입력 버튼 (오른쪽 상단) -->
        <button id="open-api-key-popup" class="api-key-btn">API키 입력</button>
        
        <!-- 탭 메뉴 -->
        <div class="tabs">
            <button class="tab-button active" data-tab="monitor">채널 모니터</button>
            <button class="tab-button" data-tab="mychannels">내채널관리</button>
        </div>

        <!-- [탭1] 채널 모니터 -->
        <div class="tab-content active" data-tab-content="monitor">
            <div class="channel-section">
                <div class="channel-section-header">
                    <div class="channel-status-bar">
                        <span id="channel-count-message"></span>
                        <button id="add-channel-button" class="add-channel-btn">+ 채널 추가</button>
                        <button class="toggle-channel-list-btn" id="toggle-channel-list-btn">▶</button>
                    </div>
                </div>
                <div id="channel-list-container" class="channel-list"></div>
            </div>
            <div class="date-range-controls">
                <button data-period="1m" class="active">1개월</button>
                <button data-period="3m">3개월</button>
                <button data-period="6m">6개월</button>
                <button data-period="all">전체</button>
            </div>
            <div id="mutant-video-list"></div>
            <div id="latest-video-list"></div>
        </div>

        <!-- [탭2] 내채널관리 -->
        <div class="tab-content" data-tab-content="mychannels">
            <div id="mychannel-section">
                <div class="mychannel-controls" style="margin-bottom:12px;">
                    <button id="add-mychannel-btn" class="add-channel-btn">+ 채널 추가</button>
                    <button id="fetch-mychannels-btn" class="info-fetch-btn">오늘 정보 저장</button>
                </div>
                <div id="mychannel-list-container" class="channel-list"></div>
                <div id="mychannel-data-table"></div>
            </div>
        </div>
    </div>

    <!-- API 키 입력 모달 -->
    <div id="api-key-modal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2>API 키 입력</h2>
            <input type="text" class="api-key-input" placeholder="API 키 #1"><br>
            <input type="text" class="api-key-input" placeholder="API 키 #2"><br>
            <input type="text" class="api-key-input" placeholder="API 키 #3"><br>
            <button id="save-api-keys">저장</button>
            <label for="api-key-file-upload" class="file-upload-label">파일에서 불러오기</label>
            <input type="file" id="api-key-file-upload" accept=".txt">
            <button id="download-api-keys">API키 파일로 저장</button>
        </div>
    </div>

    <!-- 채널 검색/선택 모달 -->
    <div id="channel-select-modal" class="modal">
        <div class="modal-content">
            <span class="close-button channel-select-close">&times;</span>
            <h2>채널 검색 결과</h2>
            <div id="channel-search-results"></div>
        </div>
    </div>

    <!-- js 연결 -->
    <script type="module" src="main.js"></script>
</body>
</html>
